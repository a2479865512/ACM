#include <iostream>
#include<cstdio>
#include<algorithm>


using namespace std;
const int MAX = 1e5 + 5;
int dp[MAX];//1开始序列
int a[MAX];//原数
int pos[MAX];//序列号
int p = 1;//总数
int main()
{
	int i = 1;
	scanf("%d", &a[i]);
	dp[i] = a[i];
	pos[i++] = 1;
	while (~scanf("%d", &a[i]))
	{
		if (a[i] > dp[p])
		{
			p++;
			dp[p] = a[i];
			pos[i] = p;
		}
		else if (a[i] == dp[p])
		{
			pos[i] = p;
		}
		else
		{
			int k = upper_bound(dp, dp + p, a[i]) - dp;
			//printf("%d\n ",k);
			dp[k] = a[i];
			pos[i] = k;
		}
		i++;
	}
	printf("%d\n", p);
	int p1 = p;
	for (int sz = i - 1; sz >= 1; sz--)
	{
		if (pos[sz] == p1)
		{
			dp[p1] = a[sz];
			p1--;
		}
	}
	for (int j = 1; j <= p; j++)
	{
		printf("%d ", dp[j]);
	}


	return 0;
}
